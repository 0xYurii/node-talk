<%- include('../partials/header') %>

<div class="feed-container">
    <section class="create-post-box">
        <form action="/posts" method="POST">
            <input type="text" name="title" placeholder="Topic title..." required class="input-title">
            <textarea name="content" placeholder="What's on your mind?" rows="3" required></textarea>
            <div class="form-footer">
                <button type="submit" class="btn-primary">Post</button>
            </div>
        </form>
    </section>

    <section class="feed-list">
        <% if (posts.length === 0) { %>
            <div class="empty-state">
                <p>It's quiet here. Be the first to post!</p>
            </div>
        <% } else { %>
            <% posts.forEach(post => { %>
                <%- include('../partials/post-card', { post: post }) %>
            <% }) %>
        <% } %>
    </section>
</div>

<%- include('../partials/footer') %>
